<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>mmrobot-server: demo.m Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<h1>demo.m</h1><a href="matlabdatafiles_2identification__mode_2demo_8m.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a><a class="code" href="matlabdatafiles_2identification__mode_2demo_8m.html#a00a349297fa58bc80ff5329e25dcfe28">00001</a> clear <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2compile__gdatalogger__ipc__retrievevariable_8m.html#a00a349297fa58bc80ff5329e25dcfe28">all</a>;
<a name="l00002"></a>00002 close <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2compile__gdatalogger__ipc__retrievevariable_8m.html#a00a349297fa58bc80ff5329e25dcfe28">all</a>;
<a name="l00003"></a>00003 
<a name="l00004"></a><a class="code" href="matlabdatafiles_2identification__mode_2demo_8m.html#a9abbeda34a5298caa266088359ec7ae2">00004</a> <a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#a9abbeda34a5298caa266088359ec7ae2">FlagGenerateNewDataFile</a> = 1;
<a name="l00005"></a>00005 
<a name="l00006"></a>00006 <span class="keywordflow">if</span> <a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#a9abbeda34a5298caa266088359ec7ae2">FlagGenerateNewDataFile</a>
<a name="l00007"></a><a class="code" href="matlabdatafiles_2identification__mode_2demo_8m.html#adcb07eb786cb5334c62d49af8485b485">00007</a>     <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlabdatafiles_2demo_8m.html#abdb1e623b73fdd157f7bfdae4b062a5e">Filename</a> = <span class="stringliteral">&apos;gmatlabdatafile.mat&apos;</span>;
<a name="l00008"></a><a class="code" href="matlabdatafiles_2identification__mode_2demo_8m.html#aaccc9105df5383111407fd5b41255e23">00008</a>     <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#aaccc9105df5383111407fd5b41255e23">t</a> = <a class="code" href="matlab_2dataviewer_8m.html#a765f9aa7daff93247efb862a88ae0dc9">ReadGMatlabDataFile</a>(<span class="charliteral">&apos;t&apos;</span>,<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlabdatafiles_2demo_8m.html#abdb1e623b73fdd157f7bfdae4b062a5e">Filename</a>);              %% time
<a name="l00009"></a><a class="code" href="matlabdatafiles_2identification__mode_2demo_8m.html#adb469792c94cc4a97fd02941349766b9">00009</a>     <a class="code" href="matlab_2dataviewer_8m.html#aa27539c17337ed197558bac383aa4023">T_exec</a> = <a class="code" href="matlab_2dataviewer_8m.html#a765f9aa7daff93247efb862a88ae0dc9">ReadGMatlabDataFile</a>(<span class="stringliteral">&apos;T_exec&apos;</span>,<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlabdatafiles_2demo_8m.html#abdb1e623b73fdd157f7bfdae4b062a5e">Filename</a>);            %% execution time
<a name="l00010"></a><a class="code" href="matlabdatafiles_2identification__mode_2demo_8m.html#a7b87420d64643d8ca83979e62b103643">00010</a>     <a class="code" href="matlab_2dataviewer_8m.html#a7b87420d64643d8ca83979e62b103643">gyro_1</a> = <a class="code" href="matlab_2dataviewer_8m.html#a765f9aa7daff93247efb862a88ae0dc9">ReadGMatlabDataFile</a>(<span class="stringliteral">&apos;g_1&apos;</span>,<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlabdatafiles_2demo_8m.html#abdb1e623b73fdd157f7bfdae4b062a5e">Filename</a>);       %% gyro 1
<a name="l00011"></a><a class="code" href="matlabdatafiles_2identification__mode_2demo_8m.html#af4f547b37792776499225c3278e381a2">00011</a>     <a class="code" href="matlab_2dataviewer_8m.html#af4f547b37792776499225c3278e381a2">gyro_2</a> = <a class="code" href="matlab_2dataviewer_8m.html#a765f9aa7daff93247efb862a88ae0dc9">ReadGMatlabDataFile</a>(<span class="stringliteral">&apos;g_2&apos;</span>,<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlabdatafiles_2demo_8m.html#abdb1e623b73fdd157f7bfdae4b062a5e">Filename</a>);       %% gyro 2
<a name="l00012"></a><a class="code" href="matlabdatafiles_2identification__mode_2demo_8m.html#af9e7d4a08f65a50f2fca548e896e70c5">00012</a>     <a class="code" href="matlab_2dataviewer_8m.html#af9e7d4a08f65a50f2fca548e896e70c5">i_1</a> = <a class="code" href="matlab_2dataviewer_8m.html#a765f9aa7daff93247efb862a88ae0dc9">ReadGMatlabDataFile</a>(<span class="stringliteral">&apos;i_k&apos;</span>,<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlabdatafiles_2demo_8m.html#abdb1e623b73fdd157f7bfdae4b062a5e">Filename</a>);  %% motor current knee
<a name="l00013"></a><a class="code" href="matlabdatafiles_2identification__mode_2demo_8m.html#a0dc010b9e612b60013fbb0684b755b6d">00013</a>     <a class="code" href="matlab_2dataviewer_8m.html#a0dc010b9e612b60013fbb0684b755b6d">i_2</a> = <a class="code" href="matlab_2dataviewer_8m.html#a765f9aa7daff93247efb862a88ae0dc9">ReadGMatlabDataFile</a>(<span class="stringliteral">&apos;i_as&apos;</span>,<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlabdatafiles_2demo_8m.html#abdb1e623b73fdd157f7bfdae4b062a5e">Filename</a>); %% motor current ankle sagital
<a name="l00014"></a><a class="code" href="matlabdatafiles_2identification__mode_2demo_8m.html#a2c17b45b1a3f3948d6db6cb139a8ef94">00014</a>     <a class="code" href="matlab_2dataviewer_8m.html#a2c17b45b1a3f3948d6db6cb139a8ef94">i_3</a> = <a class="code" href="matlab_2dataviewer_8m.html#a765f9aa7daff93247efb862a88ae0dc9">ReadGMatlabDataFile</a>(<span class="stringliteral">&apos;i_af&apos;</span>,<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlabdatafiles_2demo_8m.html#abdb1e623b73fdd157f7bfdae4b062a5e">Filename</a>); %% motor current ankle frontal
<a name="l00015"></a><a class="code" href="matlabdatafiles_2identification__mode_2demo_8m.html#ace7b203e012b8b638d98a1d4ef4a10bb">00015</a>     <a class="code" href="matlab_2dataviewer_8m.html#ace7b203e012b8b638d98a1d4ef4a10bb">u_1</a> = <a class="code" href="matlab_2dataviewer_8m.html#a765f9aa7daff93247efb862a88ae0dc9">ReadGMatlabDataFile</a>(<span class="stringliteral">&apos;u_k&apos;</span>,<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlabdatafiles_2demo_8m.html#abdb1e623b73fdd157f7bfdae4b062a5e">Filename</a>);  %% motor pwm input [0-1000]     - knee
<a name="l00016"></a>00016     <a class="code" href="matlab_2dataviewer_8m.html#a3d5b0d701fb4fdc2c6b27abaf5c6b5c8">u_2</a> = <a class="code" href="matlab_2dataviewer_8m.html#a765f9aa7daff93247efb862a88ae0dc9">ReadGMatlabDataFile</a>(&apos;<a class="code" href="matlab_2dataviewer_8m.html#a51ee6d3a6e8a57a900f9e12d81e17cbd">u_as</a>&apos;,<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlabdatafiles_2demo_8m.html#abdb1e623b73fdd157f7bfdae4b062a5e">Filename</a>); %% motor pwm input [0-1000]     - ankle sagital
<a name="l00017"></a>00017     <a class="code" href="matlab_2dataviewer_8m.html#a9ab9ff12ff95c55341941011872c456a">u_3</a> = <a class="code" href="matlab_2dataviewer_8m.html#a765f9aa7daff93247efb862a88ae0dc9">ReadGMatlabDataFile</a>(&apos;<a class="code" href="matlab_2dataviewer_8m.html#a9da968bed76e2c655562c3b412ba41a7">u_af</a>&apos;,<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlabdatafiles_2demo_8m.html#abdb1e623b73fdd157f7bfdae4b062a5e">Filename</a>); %% motor pwm input [0-1000]     - ankle frontal
<a name="l00018"></a>00018     <a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#ac951b784fc028491b02f210408071f00">theta_1</a> = <a class="code" href="matlab_2dataviewer_8m.html#a765f9aa7daff93247efb862a88ae0dc9">ReadGMatlabDataFile</a>(&apos;p_k&apos;,<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlabdatafiles_2demo_8m.html#abdb1e623b73fdd157f7bfdae4b062a5e">Filename</a>);      %% knee joint potentiometer
<a name="l00019"></a><a class="code" href="matlabdatafiles_2identification__mode_2demo_8m.html#acf332723297849f64a9169282c1237c5">00019</a>     <a class="code" href="matlab_2dataviewer_8m.html#a45446811ab9715113cb18d4838cc8e4d">theta_2</a> = <a class="code" href="matlab_2dataviewer_8m.html#a765f9aa7daff93247efb862a88ae0dc9">ReadGMatlabDataFile</a>(<span class="stringliteral">&apos;p_as&apos;</span>,<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlabdatafiles_2demo_8m.html#abdb1e623b73fdd157f7bfdae4b062a5e">Filename</a>);     %% knee joint potentiometer
<a name="l00020"></a><a class="code" href="matlabdatafiles_2identification__mode_2demo_8m.html#abbb2a4909669066c03b01bec6b92aadc">00020</a>     <a class="code" href="matlab_2dataviewer_8m.html#a1d56836283181b9c1d0028261b209fe9">theta_3</a> = <a class="code" href="matlab_2dataviewer_8m.html#a765f9aa7daff93247efb862a88ae0dc9">ReadGMatlabDataFile</a>(<span class="stringliteral">&apos;p_af&apos;</span>,<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlabdatafiles_2demo_8m.html#abdb1e623b73fdd157f7bfdae4b062a5e">Filename</a>);     %% knee joint potentiometer
<a name="l00021"></a><a class="code" href="matlabdatafiles_2identification__mode_2demo_8m.html#a42f132e2f712134d1339dec81b3a6b04">00021</a>     <a class="code" href="matlab_2dataviewer_8m.html#a42f132e2f712134d1339dec81b3a6b04">r_1</a> = <a class="code" href="matlab_2dataviewer_8m.html#a765f9aa7daff93247efb862a88ae0dc9">ReadGMatlabDataFile</a>(<span class="stringliteral">&apos;r_1&apos;</span>,<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlabdatafiles_2demo_8m.html#abdb1e623b73fdd157f7bfdae4b062a5e">Filename</a>);  %% foot infrared range 1
<a name="l00022"></a><a class="code" href="matlabdatafiles_2identification__mode_2demo_8m.html#aebd5e602e2c6cbe7902e50a37467e336">00022</a>     <a class="code" href="matlab_2dataviewer_8m.html#aebd5e602e2c6cbe7902e50a37467e336">r_2</a> = <a class="code" href="matlab_2dataviewer_8m.html#a765f9aa7daff93247efb862a88ae0dc9">ReadGMatlabDataFile</a>(<span class="stringliteral">&apos;r_2&apos;</span>,<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlabdatafiles_2demo_8m.html#abdb1e623b73fdd157f7bfdae4b062a5e">Filename</a>);  %% foot infrared range 2
<a name="l00023"></a><a class="code" href="matlabdatafiles_2identification__mode_2demo_8m.html#a1471055915ad3f212e35185bfc74addf">00023</a>     <a class="code" href="matlab_2dataviewer_8m.html#a1471055915ad3f212e35185bfc74addf">r_3</a> = <a class="code" href="matlab_2dataviewer_8m.html#a765f9aa7daff93247efb862a88ae0dc9">ReadGMatlabDataFile</a>(<span class="stringliteral">&apos;r_3&apos;</span>,<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlabdatafiles_2demo_8m.html#abdb1e623b73fdd157f7bfdae4b062a5e">Filename</a>);  %% foot infrared range 3
<a name="l00024"></a><a class="code" href="matlabdatafiles_2identification__mode_2demo_8m.html#a9e72e33c2c5326d122899bed345b87c4">00024</a>     <a class="code" href="matlab_2dataviewer_8m.html#a9e72e33c2c5326d122899bed345b87c4">r_4</a> = <a class="code" href="matlab_2dataviewer_8m.html#a765f9aa7daff93247efb862a88ae0dc9">ReadGMatlabDataFile</a>(<span class="stringliteral">&apos;r_4&apos;</span>,<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlabdatafiles_2demo_8m.html#abdb1e623b73fdd157f7bfdae4b062a5e">Filename</a>);  %% foot infrared range 4
<a name="l00025"></a>00025     
<a name="l00026"></a>00026     %%% converts motor inputs to Volts
<a name="l00027"></a>00027     <a class="code" href="matlab_2dataviewer_8m.html#ace7b203e012b8b638d98a1d4ef4a10bb">u_1</a> = 12*(<a class="code" href="matlab_2dataviewer_8m.html#ace7b203e012b8b638d98a1d4ef4a10bb">u_1</a> - 500)/500;
<a name="l00028"></a><a class="code" href="matlabdatafiles_2identification__mode_2demo_8m.html#a3d5b0d701fb4fdc2c6b27abaf5c6b5c8">00028</a>     <a class="code" href="matlab_2dataviewer_8m.html#a3d5b0d701fb4fdc2c6b27abaf5c6b5c8">u_2</a> = -12*(<a class="code" href="matlab_2dataviewer_8m.html#a3d5b0d701fb4fdc2c6b27abaf5c6b5c8">u_2</a> - 500)/500;
<a name="l00029"></a><a class="code" href="matlabdatafiles_2identification__mode_2demo_8m.html#a9ab9ff12ff95c55341941011872c456a">00029</a>     <a class="code" href="matlab_2dataviewer_8m.html#a9ab9ff12ff95c55341941011872c456a">u_3</a> = 12*(<a class="code" href="matlab_2dataviewer_8m.html#a9ab9ff12ff95c55341941011872c456a">u_3</a> - 500)/500;
<a name="l00030"></a>00030     
<a name="l00031"></a>00031     %%% converts currents inputs to Ampers
<a name="l00032"></a>00032     <a class="code" href="matlab_2dataviewer_8m.html#af9e7d4a08f65a50f2fca548e896e70c5">i_1</a> = (<a class="code" href="matlab_2dataviewer_8m.html#af9e7d4a08f65a50f2fca548e896e70c5">i_1</a>*3.3/1023 - 2.5)/0.133;
<a name="l00033"></a>00033     <a class="code" href="matlab_2dataviewer_8m.html#a0dc010b9e612b60013fbb0684b755b6d">i_2</a> = -(<a class="code" href="matlab_2dataviewer_8m.html#a0dc010b9e612b60013fbb0684b755b6d">i_2</a>*3.3/1023 - 2.5)/0.133;
<a name="l00034"></a>00034     <a class="code" href="matlab_2dataviewer_8m.html#a2c17b45b1a3f3948d6db6cb139a8ef94">i_3</a> = (<a class="code" href="matlab_2dataviewer_8m.html#a2c17b45b1a3f3948d6db6cb139a8ef94">i_3</a>*3.3/1023 - 2.5)/0.133;
<a name="l00035"></a>00035     
<a name="l00036"></a>00036     %%% converts knee potentiometer readings to rad
<a name="l00037"></a><a class="code" href="matlabdatafiles_2identification__mode_2demo_8m.html#adc468c70fb574ebd07287b38d0d0676d">00037</a>     <a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#adc468c70fb574ebd07287b38d0d0676d">k</a> = 1;
<a name="l00038"></a><a class="code" href="matlabdatafiles_2identification__mode_2demo_8m.html#a4124bc0a9335c27f086f24ba207a4912">00038</a>     <a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#a4124bc0a9335c27f086f24ba207a4912">a</a> = 0;
<a name="l00039"></a><a class="code" href="matlabdatafiles_2identification__mode_2demo_8m.html#ac951b784fc028491b02f210408071f00">00039</a>     <a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#ac951b784fc028491b02f210408071f00">theta_1</a> = <a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#adc468c70fb574ebd07287b38d0d0676d">k</a>*<a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#ac951b784fc028491b02f210408071f00">theta_1</a> + <a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#a4124bc0a9335c27f086f24ba207a4912">a</a>;
<a name="l00040"></a>00040     
<a name="l00041"></a>00041     %%% converts ankle potentiometer readings to rad
<a name="l00042"></a><a class="code" href="matlabdatafiles_2identification__mode_2demo_8m.html#a16d5d24f5b09a1991bd4e5f57bf11237">00042</a>     <a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#a526676205757b32b22a9d45be0beb1ed">output_cal</a> = [0; pi/2   ];
<a name="l00043"></a><a class="code" href="matlabdatafiles_2identification__mode_2demo_8m.html#aeac2f82b5dd7dc154c8caefd21847b70">00043</a>     <a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#aeac2f82b5dd7dc154c8caefd21847b70">input_cal</a>  = [604;  920  ];
<a name="l00044"></a>00044     <a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#adc468c70fb574ebd07287b38d0d0676d">k</a> = (<a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#a526676205757b32b22a9d45be0beb1ed">output_cal</a>(2)-<a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#a526676205757b32b22a9d45be0beb1ed">output_cal</a>(1))/(<a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#aeac2f82b5dd7dc154c8caefd21847b70">input_cal</a>(2)-<a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#aeac2f82b5dd7dc154c8caefd21847b70">input_cal</a>(1));
<a name="l00045"></a>00045     <a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#a4124bc0a9335c27f086f24ba207a4912">a</a> = <a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#a526676205757b32b22a9d45be0beb1ed">output_cal</a>(1)-<a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#adc468c70fb574ebd07287b38d0d0676d">k</a>*<a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#aeac2f82b5dd7dc154c8caefd21847b70">input_cal</a>(1);
<a name="l00046"></a>00046     <a class="code" href="matlab_2dataviewer_8m.html#a45446811ab9715113cb18d4838cc8e4d">theta_2</a> = <a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#adc468c70fb574ebd07287b38d0d0676d">k</a>*<a class="code" href="matlab_2dataviewer_8m.html#a45446811ab9715113cb18d4838cc8e4d">theta_2</a> + <a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#a4124bc0a9335c27f086f24ba207a4912">a</a>;
<a name="l00047"></a>00047     
<a name="l00048"></a>00048     %%% converts foot potentiometer readings to rad
<a name="l00049"></a>00049     <a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#a526676205757b32b22a9d45be0beb1ed">output_cal</a> = [0; pi/2   ];
<a name="l00050"></a>00050     <a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#aeac2f82b5dd7dc154c8caefd21847b70">input_cal</a>  = [476;  960  ];
<a name="l00051"></a>00051     <a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#adc468c70fb574ebd07287b38d0d0676d">k</a> = (<a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#a526676205757b32b22a9d45be0beb1ed">output_cal</a>(2)-<a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#a526676205757b32b22a9d45be0beb1ed">output_cal</a>(1))/(<a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#aeac2f82b5dd7dc154c8caefd21847b70">input_cal</a>(2)-<a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#aeac2f82b5dd7dc154c8caefd21847b70">input_cal</a>(1));
<a name="l00052"></a>00052     <a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#a4124bc0a9335c27f086f24ba207a4912">a</a> = <a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#a526676205757b32b22a9d45be0beb1ed">output_cal</a>(1)-<a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#adc468c70fb574ebd07287b38d0d0676d">k</a>*<a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#aeac2f82b5dd7dc154c8caefd21847b70">input_cal</a>(1);
<a name="l00053"></a>00053     <a class="code" href="matlab_2dataviewer_8m.html#a1d56836283181b9c1d0028261b209fe9">theta_3</a> = <a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#adc468c70fb574ebd07287b38d0d0676d">k</a>*<a class="code" href="matlab_2dataviewer_8m.html#a1d56836283181b9c1d0028261b209fe9">theta_3</a> + <a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#a4124bc0a9335c27f086f24ba207a4912">a</a>;
<a name="l00054"></a>00054     
<a name="l00055"></a>00055     %%% converts foot pitch giro readings to rad/s
<a name="l00056"></a><a class="code" href="matlabdatafiles_2identification__mode_2demo_8m.html#abda9dfcf167320c88212f7110829e3bc">00056</a>     <a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#abda9dfcf167320c88212f7110829e3bc">i_cal</a> = min(find(<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#aaccc9105df5383111407fd5b41255e23">t</a>&gt;=1)); %compute bias
<a name="l00057"></a>00057     <a class="code" href="matlab_2dataviewer_8m.html#a7b87420d64643d8ca83979e62b103643">gyro_1</a> = gyro_1 - mean(gyro_1(1:i_cal)); % compensate bias
<a name="l00058"></a>00058     gyro_1 = gyro_1 * 3.3/1024; % convert to Volt
<a name="l00059"></a>00059     gyro_1 = (gyro_1 / 0.0125)*<a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#a16d5d24f5b09a1991bd4e5f57bf11237">pi</a>/180.0; % convert to rad/s according ro ADXRS300 datasheet
<a name="l00060"></a>00060     
<a name="l00061"></a>00061     %%% converts foot roll giro readings to rad/s
<a name="l00062"></a>00062     <a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#abda9dfcf167320c88212f7110829e3bc">i_cal</a> = min(find(<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#aaccc9105df5383111407fd5b41255e23">t</a>&gt;=1)); %compute bias
<a name="l00063"></a>00063     <a class="code" href="matlab_2dataviewer_8m.html#af4f547b37792776499225c3278e381a2">gyro_2</a> = gyro_2 - mean(gyro_2(1:i_cal)); % compensate bias
<a name="l00064"></a>00064     gyro_2 = gyro_2 * 3.3/1024; % convert to Volt
<a name="l00065"></a>00065     gyro_2 = (gyro_2 / 0.005)*<a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#a16d5d24f5b09a1991bd4e5f57bf11237">pi</a>/180.0; % convert to rad/s according ro ADXRS150 datasheet
<a name="l00066"></a>00066     
<a name="l00067"></a>00067     %%% converts infrared rangefinder readings to m
<a name="l00068"></a>00068     <a class="code" href="matlab_2dataviewer_8m.html#a42f132e2f712134d1339dec81b3a6b04">r_1</a> = r_1*3.3/255; % convert to V
<a name="l00069"></a>00069     <a class="code" href="matlab_2dataviewer_8m.html#aebd5e602e2c6cbe7902e50a37467e336">r_2</a> = r_2*3.3/255; % convert to V
<a name="l00070"></a>00070     <a class="code" href="matlab_2dataviewer_8m.html#a1471055915ad3f212e35185bfc74addf">r_3</a> = r_3*3.3/255; % convert to V
<a name="l00071"></a>00071     <a class="code" href="matlab_2dataviewer_8m.html#a9e72e33c2c5326d122899bed345b87c4">r_4</a> = r_4*3.3/255; % convert to V
<a name="l00072"></a>00072    
<a name="l00073"></a>00073     r_1 = 0.01*(13.2./r_1 - 0.42); % convert to m
<a name="l00074"></a>00074     r_2 = 0.01*(13.2./r_2 - 0.42); % convert to m
<a name="l00075"></a>00075     r_3 = 0.01*(13.2./r_3 - 0.42); % convert to m
<a name="l00076"></a>00076     r_4 = 0.01*(13.2./r_4 - 0.42); % convert to m
<a name="l00077"></a>00077 
<a name="l00078"></a>00078     <a class="code" href="matlab_2dataviewer_8m.html#a42f132e2f712134d1339dec81b3a6b04">r_1</a>(find(r_1 &gt; 0.4)) = 0.4;
<a name="l00079"></a>00079     <a class="code" href="matlab_2dataviewer_8m.html#aebd5e602e2c6cbe7902e50a37467e336">r_2</a>(find(r_2 &gt; 0.4)) = 0.4;
<a name="l00080"></a>00080     <a class="code" href="matlab_2dataviewer_8m.html#a1471055915ad3f212e35185bfc74addf">r_3</a>(find(r_3 &gt; 0.4)) = 0.4;
<a name="l00081"></a>00081     <a class="code" href="matlab_2dataviewer_8m.html#a9e72e33c2c5326d122899bed345b87c4">r_4</a>(find(r_4 &gt; 0.4)) = 0.4;
<a name="l00082"></a>00082      
<a name="l00083"></a>00083     %%% save to file
<a name="l00084"></a>00084     save <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a511ae0b1c13f95e5f08f1a0dd3da3d93">data</a>.mat <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#aaccc9105df5383111407fd5b41255e23">t</a> gyro_1 gyro_2 <a class="code" href="matlab_2dataviewer_8m.html#ace7b203e012b8b638d98a1d4ef4a10bb">u_1</a> <a class="code" href="matlab_2dataviewer_8m.html#a3d5b0d701fb4fdc2c6b27abaf5c6b5c8">u_2</a> <a class="code" href="matlab_2dataviewer_8m.html#a9ab9ff12ff95c55341941011872c456a">u_3</a> <a class="code" href="matlab_2dataviewer_8m.html#af9e7d4a08f65a50f2fca548e896e70c5">i_1</a> <a class="code" href="matlab_2dataviewer_8m.html#a0dc010b9e612b60013fbb0684b755b6d">i_2</a> <a class="code" href="matlab_2dataviewer_8m.html#a2c17b45b1a3f3948d6db6cb139a8ef94">i_3</a> <a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#ac951b784fc028491b02f210408071f00">theta_1</a> <a class="code" href="matlab_2dataviewer_8m.html#a45446811ab9715113cb18d4838cc8e4d">theta_2</a> <a class="code" href="matlab_2dataviewer_8m.html#a1d56836283181b9c1d0028261b209fe9">theta_3</a> r_1 r_2 r_3 r_4;
<a name="l00085"></a>00085 <span class="keywordflow">else</span>
<a name="l00086"></a><a class="code" href="matlabdatafiles_2identification__mode_2demo_8m.html#add480a12978e45c15bdb81310526e9bb">00086</a>     load <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a511ae0b1c13f95e5f08f1a0dd3da3d93">data</a>.mat;
<a name="l00087"></a>00087 end
<a name="l00088"></a>00088 
<a name="l00089"></a><a class="code" href="matlabdatafiles_2identification__mode_2demo_8m.html#a391e34f2de441d79152a7b3d6e4c9c86">00089</a> <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlabdatafiles_2demo_8m.html#a391e34f2de441d79152a7b3d6e4c9c86">figure</a>; 
<a name="l00090"></a>00090 <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a48dc8634024e4b228c94c6accabfa69e">subplot</a>(211), <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#acae97efcd3e6a0965a7d4df9f6553ffc">plot</a>(<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#aaccc9105df5383111407fd5b41255e23">t</a>,gyro_1*180/<a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#a16d5d24f5b09a1991bd4e5f57bf11237">pi</a>); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a27fd587d7c7c255c818968096d590d76">title</a>(<span class="stringliteral">&apos;gyro 1&apos;</span>); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a457b37eaffd124d92fd274a5f5005282">ylabel</a>(<span class="stringliteral">&apos;[deg/s]&apos;</span>);
<a name="l00091"></a>00091 <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a48dc8634024e4b228c94c6accabfa69e">subplot</a>(212), <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#acae97efcd3e6a0965a7d4df9f6553ffc">plot</a>(<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#aaccc9105df5383111407fd5b41255e23">t</a>,gyro_2*180/<a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#a16d5d24f5b09a1991bd4e5f57bf11237">pi</a>); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a27fd587d7c7c255c818968096d590d76">title</a>(<span class="stringliteral">&apos;gyro 2&apos;</span>); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a457b37eaffd124d92fd274a5f5005282">ylabel</a>(<span class="stringliteral">&apos;[deg/s]&apos;</span>);
<a name="l00092"></a>00092 
<a name="l00093"></a>00093 <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlabdatafiles_2demo_8m.html#a391e34f2de441d79152a7b3d6e4c9c86">figure</a>; 
<a name="l00094"></a>00094 <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a48dc8634024e4b228c94c6accabfa69e">subplot</a>(311), <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#acae97efcd3e6a0965a7d4df9f6553ffc">plot</a>(<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#aaccc9105df5383111407fd5b41255e23">t</a>,<a class="code" href="matlab_2dataviewer_8m.html#ace7b203e012b8b638d98a1d4ef4a10bb">u_1</a>); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a27fd587d7c7c255c818968096d590d76">title</a>(<span class="stringliteral">&apos;voltage motor 1&apos;</span>); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a457b37eaffd124d92fd274a5f5005282">ylabel</a>(<span class="stringliteral">&apos;[V]&apos;</span>);
<a name="l00095"></a>00095 <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a48dc8634024e4b228c94c6accabfa69e">subplot</a>(312), <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#acae97efcd3e6a0965a7d4df9f6553ffc">plot</a>(<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#aaccc9105df5383111407fd5b41255e23">t</a>,<a class="code" href="matlab_2dataviewer_8m.html#a3d5b0d701fb4fdc2c6b27abaf5c6b5c8">u_2</a>); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a27fd587d7c7c255c818968096d590d76">title</a>(<span class="stringliteral">&apos;voltage motor 2&apos;</span>); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a457b37eaffd124d92fd274a5f5005282">ylabel</a>(<span class="stringliteral">&apos;[V]&apos;</span>);
<a name="l00096"></a>00096 <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a48dc8634024e4b228c94c6accabfa69e">subplot</a>(313), <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#acae97efcd3e6a0965a7d4df9f6553ffc">plot</a>(<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#aaccc9105df5383111407fd5b41255e23">t</a>,<a class="code" href="matlab_2dataviewer_8m.html#a9ab9ff12ff95c55341941011872c456a">u_3</a>); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a27fd587d7c7c255c818968096d590d76">title</a>(<span class="stringliteral">&apos;voltage motor 3&apos;</span>); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a457b37eaffd124d92fd274a5f5005282">ylabel</a>(<span class="stringliteral">&apos;[V]&apos;</span>);
<a name="l00097"></a>00097 
<a name="l00098"></a>00098 <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlabdatafiles_2demo_8m.html#a391e34f2de441d79152a7b3d6e4c9c86">figure</a>; 
<a name="l00099"></a>00099 <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a48dc8634024e4b228c94c6accabfa69e">subplot</a>(311), <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#acae97efcd3e6a0965a7d4df9f6553ffc">plot</a>(<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#aaccc9105df5383111407fd5b41255e23">t</a>,<a class="code" href="matlab_2dataviewer_8m.html#af9e7d4a08f65a50f2fca548e896e70c5">i_1</a>); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a27fd587d7c7c255c818968096d590d76">title</a>(<span class="stringliteral">&apos;current motor 1&apos;</span>); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a457b37eaffd124d92fd274a5f5005282">ylabel</a>(<span class="stringliteral">&apos;[A]&apos;</span>);
<a name="l00100"></a>00100 <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a48dc8634024e4b228c94c6accabfa69e">subplot</a>(312), <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#acae97efcd3e6a0965a7d4df9f6553ffc">plot</a>(<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#aaccc9105df5383111407fd5b41255e23">t</a>,<a class="code" href="matlab_2dataviewer_8m.html#a0dc010b9e612b60013fbb0684b755b6d">i_2</a>); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a27fd587d7c7c255c818968096d590d76">title</a>(<span class="stringliteral">&apos;current motor 2&apos;</span>); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a457b37eaffd124d92fd274a5f5005282">ylabel</a>(<span class="stringliteral">&apos;[A]&apos;</span>);
<a name="l00101"></a>00101 <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a48dc8634024e4b228c94c6accabfa69e">subplot</a>(313), <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#acae97efcd3e6a0965a7d4df9f6553ffc">plot</a>(<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#aaccc9105df5383111407fd5b41255e23">t</a>,<a class="code" href="matlab_2dataviewer_8m.html#a2c17b45b1a3f3948d6db6cb139a8ef94">i_3</a>); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a27fd587d7c7c255c818968096d590d76">title</a>(<span class="stringliteral">&apos;current motor 3&apos;</span>); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a457b37eaffd124d92fd274a5f5005282">ylabel</a>(<span class="stringliteral">&apos;[A]&apos;</span>);
<a name="l00102"></a>00102 
<a name="l00103"></a>00103 <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlabdatafiles_2demo_8m.html#a391e34f2de441d79152a7b3d6e4c9c86">figure</a>; 
<a name="l00104"></a>00104 <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a48dc8634024e4b228c94c6accabfa69e">subplot</a>(311), <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#acae97efcd3e6a0965a7d4df9f6553ffc">plot</a>(<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#aaccc9105df5383111407fd5b41255e23">t</a>,<a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#ac951b784fc028491b02f210408071f00">theta_1</a>*180/<a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#a16d5d24f5b09a1991bd4e5f57bf11237">pi</a>); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a27fd587d7c7c255c818968096d590d76">title</a>(<span class="stringliteral">&apos;angle joint 1&apos;</span>); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a457b37eaffd124d92fd274a5f5005282">ylabel</a>(<span class="stringliteral">&apos;[deg]&apos;</span>);
<a name="l00105"></a>00105 <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a48dc8634024e4b228c94c6accabfa69e">subplot</a>(312), <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#acae97efcd3e6a0965a7d4df9f6553ffc">plot</a>(<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#aaccc9105df5383111407fd5b41255e23">t</a>,<a class="code" href="matlab_2dataviewer_8m.html#a45446811ab9715113cb18d4838cc8e4d">theta_2</a>*180/<a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#a16d5d24f5b09a1991bd4e5f57bf11237">pi</a>); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a27fd587d7c7c255c818968096d590d76">title</a>(<span class="stringliteral">&apos;angle joint 2&apos;</span>); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a457b37eaffd124d92fd274a5f5005282">ylabel</a>(<span class="stringliteral">&apos;[deg]&apos;</span>);
<a name="l00106"></a>00106 <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a48dc8634024e4b228c94c6accabfa69e">subplot</a>(313), <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#acae97efcd3e6a0965a7d4df9f6553ffc">plot</a>(<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#aaccc9105df5383111407fd5b41255e23">t</a>,<a class="code" href="matlab_2dataviewer_8m.html#a1d56836283181b9c1d0028261b209fe9">theta_3</a>*180/<a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#a16d5d24f5b09a1991bd4e5f57bf11237">pi</a>); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a27fd587d7c7c255c818968096d590d76">title</a>(<span class="stringliteral">&apos;angle joint 3&apos;</span>); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a457b37eaffd124d92fd274a5f5005282">ylabel</a>(<span class="stringliteral">&apos;[deg]&apos;</span>);
<a name="l00107"></a>00107 
<a name="l00108"></a>00108 <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlabdatafiles_2demo_8m.html#a391e34f2de441d79152a7b3d6e4c9c86">figure</a>; 
<a name="l00109"></a>00109 <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a48dc8634024e4b228c94c6accabfa69e">subplot</a>(411), <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#acae97efcd3e6a0965a7d4df9f6553ffc">plot</a>(<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#aaccc9105df5383111407fd5b41255e23">t</a>,r_1); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a27fd587d7c7c255c818968096d590d76">title</a>(<span class="stringliteral">&apos;infrared rangefinder 1&apos;</span>); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a457b37eaffd124d92fd274a5f5005282">ylabel</a>(<span class="stringliteral">&apos;[m]&apos;</span>);
<a name="l00110"></a>00110 <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a48dc8634024e4b228c94c6accabfa69e">subplot</a>(412), <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#acae97efcd3e6a0965a7d4df9f6553ffc">plot</a>(<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#aaccc9105df5383111407fd5b41255e23">t</a>,r_2); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a27fd587d7c7c255c818968096d590d76">title</a>(<span class="stringliteral">&apos;infrared rangefinder 2&apos;</span>); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a457b37eaffd124d92fd274a5f5005282">ylabel</a>(<span class="stringliteral">&apos;[m]&apos;</span>);
<a name="l00111"></a>00111 <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a48dc8634024e4b228c94c6accabfa69e">subplot</a>(413), <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#acae97efcd3e6a0965a7d4df9f6553ffc">plot</a>(<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#aaccc9105df5383111407fd5b41255e23">t</a>,r_3); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a27fd587d7c7c255c818968096d590d76">title</a>(<span class="stringliteral">&apos;infrared rangefinder 3&apos;</span>); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a457b37eaffd124d92fd274a5f5005282">ylabel</a>(<span class="stringliteral">&apos;[m]&apos;</span>);
<a name="l00112"></a>00112 <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a48dc8634024e4b228c94c6accabfa69e">subplot</a>(414), <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#acae97efcd3e6a0965a7d4df9f6553ffc">plot</a>(<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#aaccc9105df5383111407fd5b41255e23">t</a>,r_4); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a27fd587d7c7c255c818968096d590d76">title</a>(<span class="stringliteral">&apos;infrared rangefinder 4&apos;</span>); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a457b37eaffd124d92fd274a5f5005282">ylabel</a>(<span class="stringliteral">&apos;[m]&apos;</span>);
<a name="l00113"></a>00113 
<a name="l00114"></a>00114 <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlabdatafiles_2demo_8m.html#a391e34f2de441d79152a7b3d6e4c9c86">figure</a>; 
<a name="l00115"></a>00115 <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a48dc8634024e4b228c94c6accabfa69e">subplot</a>(311), <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#acae97efcd3e6a0965a7d4df9f6553ffc">plot</a>(<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#aaccc9105df5383111407fd5b41255e23">t</a>,[0; (diff(<a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#ac951b784fc028491b02f210408071f00">theta_1</a>)./diff(<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#aaccc9105df5383111407fd5b41255e23">t</a>))*180/<a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#a16d5d24f5b09a1991bd4e5f57bf11237">pi</a>]); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a27fd587d7c7c255c818968096d590d76">title</a>(<span class="stringliteral">&apos;angular speed joint 1 (estimate 1st order)&apos;</span>); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a457b37eaffd124d92fd274a5f5005282">ylabel</a>(<span class="stringliteral">&apos;[deg/s]&apos;</span>);
<a name="l00116"></a>00116 <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a48dc8634024e4b228c94c6accabfa69e">subplot</a>(312), <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#acae97efcd3e6a0965a7d4df9f6553ffc">plot</a>(<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#aaccc9105df5383111407fd5b41255e23">t</a>,[0; (diff(<a class="code" href="matlab_2dataviewer_8m.html#a45446811ab9715113cb18d4838cc8e4d">theta_2</a>)./diff(<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#aaccc9105df5383111407fd5b41255e23">t</a>))*180/<a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#a16d5d24f5b09a1991bd4e5f57bf11237">pi</a>]); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a27fd587d7c7c255c818968096d590d76">title</a>(<span class="stringliteral">&apos;angular speed joint 2 (estimate 1st order)&apos;</span>); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a457b37eaffd124d92fd274a5f5005282">ylabel</a>(<span class="stringliteral">&apos;[deg/s]&apos;</span>);
<a name="l00117"></a>00117 <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a48dc8634024e4b228c94c6accabfa69e">subplot</a>(313), <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#acae97efcd3e6a0965a7d4df9f6553ffc">plot</a>(<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#aaccc9105df5383111407fd5b41255e23">t</a>,[0; (diff(<a class="code" href="matlab_2dataviewer_8m.html#a1d56836283181b9c1d0028261b209fe9">theta_3</a>)./diff(<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#aaccc9105df5383111407fd5b41255e23">t</a>))*180/<a class="code" href="matlabdatafiles_2control__mode_2demo_8m.html#a16d5d24f5b09a1991bd4e5f57bf11237">pi</a>]); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a27fd587d7c7c255c818968096d590d76">title</a>(<span class="stringliteral">&apos;angular speed joint 3 (estimate 1st order)&apos;</span>); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a457b37eaffd124d92fd274a5f5005282">ylabel</a>(<span class="stringliteral">&apos;[deg/s]&apos;</span>);
<a name="l00118"></a>00118 
<a name="l00119"></a>00119 <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlabdatafiles_2demo_8m.html#a391e34f2de441d79152a7b3d6e4c9c86">figure</a>; 
<a name="l00120"></a>00120 <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a48dc8634024e4b228c94c6accabfa69e">subplot</a>(211), <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#acae97efcd3e6a0965a7d4df9f6553ffc">plot</a>(<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#aaccc9105df5383111407fd5b41255e23">t</a>,[0; diff(<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#aaccc9105df5383111407fd5b41255e23">t</a>)]); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a27fd587d7c7c255c818968096d590d76">title</a>(<span class="stringliteral">&apos;Sampling time&apos;</span>); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a457b37eaffd124d92fd274a5f5005282">ylabel</a>(<span class="stringliteral">&apos;[s]&apos;</span>);
<a name="l00121"></a>00121 <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a48dc8634024e4b228c94c6accabfa69e">subplot</a>(212), <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#acae97efcd3e6a0965a7d4df9f6553ffc">plot</a>(<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#aaccc9105df5383111407fd5b41255e23">t</a>,[0; diff(<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#aaccc9105df5383111407fd5b41255e23">t</a>)],<span class="charliteral">&apos;r&apos;</span>,<a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#aaccc9105df5383111407fd5b41255e23">t</a>,<a class="code" href="matlab_2dataviewer_8m.html#aa27539c17337ed197558bac383aa4023">T_exec</a>,<span class="charliteral">&apos;b&apos;</span>); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a27fd587d7c7c255c818968096d590d76">title</a>(<span class="stringliteral">&apos;Execution time (blue) vs. Sampling time (red)&apos;</span>); <a class="code" href="libs_2gdatalogger_2demo-pthread_2matlab_2dataviewer_8m.html#a457b37eaffd124d92fd274a5f5005282">ylabel</a>(<span class="stringliteral">&apos;[s]&apos;</span>);
<a name="l00122"></a>00122 
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Fri Jan 14 01:14:32 2011 for mmrobot-server by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
